---
author: 罗老师 & Claude
theme_name: 罗老师代码修复版
---

> [!note]
> 这个主题专门解决One2MP插件中代码块格式错乱的问题
> 基于爱范儿主题风格，增强了代码块的显示效果

## 1. 全局变量

```CSS
:root {
  --article-font-family: "PingFang SC", system-ui, -apple-system, BlinkMacSystemFont, "Helvetica Neue", Helvetica, Tahoma, Arial, "Heiti SC", STHeiti, SimHei, sans-serif; 
  --article-line-height: 27px;
  --article-font-weight: 300;
  --paragraph-font-family: PingFangSC-light, system-ui;
  --article-text-font-size: 15px;
  --article-text-color: rgb(34, 34, 34);
  --paragraph-margin: 27px 0;
  --paragraph-padding: 0 15px;
  --image-caption-text-color: #A7A7A7;
  --image-cation-font-size: 12px;
  --heading-color: #66CDAA;
  --heading-font-family: PingFangSC-Semibold, system-ui;
  --heading-font-weight: 600;
  --strong-color: #FD4606;
  --article-max-width: none;
  --heading-margin: 1rem 0;
  --article-text-align: justify;
  --article-font-size: 15px;
}
```

## 2. 代码块样式修复（核心功能）

```CSS
/* 代码块容器样式 */
.one2mp .code-container {
  display: flex;
  flex-direction: column;
  border-radius: 6px;
  background: #f6f8fa;
  box-shadow: rgba(0, 0, 0, 0.1) 0px 2px 8px;
  border: 1px solid #e1e4e8;
  margin: 1.5rem 0;
  overflow: hidden;
}

/* 代码区域样式 */
.one2mp .code-section {
  display: flex;
  flex-grow: 1;
  font-size: 14px;
  line-height: 1.6;
}

/* 关键！代码文本样式 - 解决格式问题 */
.one2mp .code-section pre {
  position: relative;
  padding: 16px;
  margin: 0;
  flex: 1;
  overflow: auto;
  background: #f6f8fa;
  /* 关键属性：保留所有空格、制表符和换行 */
  white-space: pre-wrap !important;
  word-wrap: break-word !important;
}

.one2mp .code-section code {
  display: block;
  padding: 0 !important;
  /* 使用等宽字体确保对齐 */
  font-family: 'Courier New', Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;
  font-size: 14px !important;
  /* 关键属性：保留空格格式 */
  white-space: pre-wrap !important;
  word-wrap: break-word !important;
  /* 移除默认边框和背景 */
  border: none !important;
  background: transparent !important;
}

/* 语法高亮颜色 */
.one2mp .hljs {
  color: #24292e;
  background: transparent;
}

.one2mp .hljs-comment,
.one2mp .hljs-quote {
  color: #6a737d;
  font-style: italic;
}

.one2mp .hljs-keyword,
.one2mp .hljs-selector-tag,
.one2mp .hljs-literal,
.one2mp .hljs-section,
.one2mp .hljs-link {
  color: #d73a49;
}

.one2mp .hljs-string {
  color: #032f62;
}

.one2mp .hljs-title,
.one2mp .hljs-name,
.one2mp .hljs-type,
.one2mp .hljs-attribute {
  color: #6f42c1;
}

.one2mp .hljs-number,
.one2mp .hljs-symbol,
.one2mp .hljs-bullet {
  color: #005cc5;
}

.one2mp .hljs-built_in,
.one2mp .hljs-builtin-name {
  color: #e36209;
}
```

## 3. 标题样式

```CSS
h1 .one2mp-heading-outbox {
  margin: 0 auto;
  padding: 0.5rem 1rem;
  border-radius: 8px;
}

:root {
  --heading-color: rgb(0, 128, 255);
  --h2-font-size: 21px;
  --blockquote-font-style: normal;
}

.one2mp {
  font-family: var(--article-font-family);
  font-weight: var(--article-font-weight);
  word-break: var(--article-word-break);
  letter-spacing: var(--article-letter-space);
  color: var(--article-text-color);
  font-size: var(--article-text-font-size);
  line-height: var(--article-line-height);
  text-align: var(--article-text-align);
  text-indent: var(--article-text-indent);
  font-style: var(--article-font-style); 
}
```

## 4. 引用样式

```CSS
blockquote {
  position: relative;
  display: inline-block;
  padding: 0 15px;
  border-left: 4px solid #d8d8d8;
  line-height: 23px;
  font-size: 15px;
  font-weight: 600;
  color: #222222;
  background: transparent;
  border-radius: 0px;
}

.one2mp-image-caption {
  font-size: 12px;
  color: rgb(136, 136, 136)
}
```

## 5. 强调文本样式

```CSS
strong {
  color: var(--strong-color);
  font-weight: 600;
}
```
